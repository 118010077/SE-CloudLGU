{"remainingRequest":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\ot\\otStudentSearchProf.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\ot\\otStudentSearchProf.vue","mtime":1650297032244},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\babel-loader\\lib\\index.js","mtime":1650207856467},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js","mtime":1650207856617}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJ0BmdWxsY2FsZW5kYXIvY29yZS92ZG9tJw0KaW1wb3J0IEZ1bGxDYWxlbmRhciBmcm9tICdAZnVsbGNhbGVuZGFyL3Z1ZScNCmltcG9ydCBEYXlHcmlkUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvZGF5Z3JpZCcNCmltcG9ydCBUaW1lR3JpZFBsdWdpbiBmcm9tICdAZnVsbGNhbGVuZGFyL3RpbWVncmlkJw0KaW1wb3J0IEludGVyYWN0aW9uUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvaW50ZXJhY3Rpb24nDQppbXBvcnQgTGlzdFBsdWdpbiBmcm9tICdAZnVsbGNhbGVuZGFyL2xpc3QnDQppbXBvcnQgeyBib29rT2ZmaWNlVGltZSwgc2VhcmNoUHJvZiB9IGZyb20gJ0AvYXBpL290Jw0KDQovLyBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQgdGlwcHkgZnJvbSAndGlwcHkuanMnDQovLyBpbXBvcnQgJ3RpcHB5LmpzL2Rpc3QvdGlwcHkuY3NzJw0KLy8gaW1wb3J0ICd0aXBweS5qcy90aGVtZXMvbGlnaHQuY3NzJzsNCi8vIGltcG9ydCAndGlwcHkuanMvYW5pbWF0aW9ucy9zY2FsZS5jc3MnOw0KDQovLyByZXF1aXJlKCdAZnVsbGNhbGVuZGFyL2NvcmUvbWFpbi5taW4uY3NzJykNCnJlcXVpcmUoJ0BmdWxsY2FsZW5kYXIvZGF5Z3JpZC9tYWluLm1pbi5jc3MnKQ0KcmVxdWlyZSgnQGZ1bGxjYWxlbmRhci90aW1lZ3JpZC9tYWluLm1pbi5jc3MnKQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsgRnVsbENhbGVuZGFyIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHZhbHVlOiAnJywNCiAgICAgIG1lc3NhZ2U6ICcnLA0KICAgICAgc291cmNlOiB7DQogICAgICAgIFByb2Zlc3Nvcl9OYW1lOiAncDEnLA0KICAgICAgICBzdWNjZXNzOiB0cnVlLA0KICAgICAgICBvdExpc3RzOg0KICAgICAgICBbDQogICAgICAgICAgew0KICAgICAgICAgICAgb3RJRDogMTEsDQogICAgICAgICAgICBvdERhdGU6ICcyMDIyLTA0LTEwJywNCiAgICAgICAgICAgIG90U3RhcnRUaW1lOiAnMDk6MDAnLA0KICAgICAgICAgICAgb3RFbmRUaW1lOiAnMTA6MDAnLA0KICAgICAgICAgICAgb3RMb2NhdGlvbjogJ3BsYWNlMScsDQogICAgICAgICAgICBpc0Jvb2tlZDogZmFsc2UsDQogICAgICAgICAgICBib29rZWRfYnk6ICdzdHVkZW50Jw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgb3RJRDogMTIsDQogICAgICAgICAgICBvdERhdGU6ICcyMDIyLTA0LTExJywNCiAgICAgICAgICAgIG90U3RhcnRUaW1lOiAnMDk6MDAnLA0KICAgICAgICAgICAgb3RFbmRUaW1lOiAnMTA6MDAnLA0KICAgICAgICAgICAgb3RMb2NhdGlvbjogJ3BsYWNlMScsDQogICAgICAgICAgICBpc0Jvb2tlZDogdHJ1ZSwNCiAgICAgICAgICAgIGJvb2tlZF9ieTogJ3N0dWRlbnQnDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgY2FsZW5kYXJPcHRpb25zOiB7DQogICAgICAgIHBsdWdpbnM6IFtEYXlHcmlkUGx1Z2luLCBJbnRlcmFjdGlvblBsdWdpbiwgVGltZUdyaWRQbHVnaW4sIExpc3RQbHVnaW5dLA0KICAgICAgICBpbml0aWFsVmlldzogJ3RpbWVHcmlkV2VlaycsDQogICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogJyNEM0QzRDMnLA0KICAgICAgICBoZWFkZXJUb29sYmFyOiB7IC8vIOaXpeWOhuWktOmDqOaMiemSruS9jee9rg0KICAgICAgICAgIGxlZnQ6ICd0aXRsZScsDQogICAgICAgICAgY2VudGVyOiAnJywNCiAgICAgICAgICByaWdodDogJ3ByZXYgdG9kYXkgbmV4dCcNCiAgICAgICAgfSwNCiAgICAgICAgaGVpZ2h0OiA2NjAsDQogICAgICAgIHNsb3RMYWJlbEZvcm1hdDogew0KICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywNCiAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JywNCiAgICAgICAgICBtZXJpZGllbTogZmFsc2UsDQogICAgICAgICAgaG91cjEyOiBmYWxzZSAvLyDorr7nva7ml7bpl7TkuLoyNOWwj+aXtg0KICAgICAgICB9LA0KICAgICAgICBjdXN0b21CdXR0b25zOiB7DQogICAgICAgICAgYWRkRXZlbnRCdXR0b246IHsNCiAgICAgICAgICAgIHRleHQ6ICdhZGQgZXZlbnQuLi4nLA0KICAgICAgICAgICAgY2xpY2s6IHRoaXMuaGFuZGxlQnV0dG9uQ2xpY2sNCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNsb3REdXJhdGlvbjogJzAwOjEwOjAwJywNCiAgICAgICAgc2xvdE1heFRpbWU6ICcyNDowMDowMCcsDQogICAgICAgIHNsb3RNaW5UaW1lOiAnODowMDowMCcsDQogICAgICAgIGFsbERheVNsb3Q6IGZhbHNlLA0KICAgICAgICBkYXRlQ2xpY2s6IHRoaXMuaGFuZGxlRGF0ZUNsaWNrLA0KICAgICAgICBldmVudENsaWNrOiB0aGlzLmhhbmRsZUV2ZW50Q2xpY2ssDQogICAgICAgIGV2ZW50TW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLA0KICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSwNCiAgICAgICAgZXZlbnRzOiBbXQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLiRyb3V0ZS5wYXJhbXMubWVzc2FnZQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuc3R1ZGVudFNlYXJjaFByb2YoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc3R1ZGVudFNlYXJjaFByb2Y6IGZ1bmN0aW9uKCkgew0KICAgICAgLy8gYWxlcnQoJ3NlbmQnK3RoaXMubWVzc2FnZSkNCiAgICAgIHNlYXJjaFByb2YodGhpcy5tZXNzYWdlKQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKCctLS1zdHVkZW50IGdldCBvZmZpY2UgdGltZS0tLScpDQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5tZXNzYWdlKQ0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKQ0KICAgICAgICAgIHRoaXMuY2FsZW5kYXJPcHRpb25zLmV2ZW50cyA9IFtdDQogICAgICAgICAgaWYgKHJlcy5kYXRhWydzdWNjZXNzJ10pIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICBtZXNzYWdlOiAnU2VhcmNoIFN1Y2Nlc3NmdWxseScsDQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGFbJ3Nsb3RzJ10ubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgLy8gaWYgKCF0aGlzLnNvdXJjZS5vdExpc3RzW2ldLmlzQm9va2VkKSB7DQogICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJPcHRpb25zLmV2ZW50cy5wdXNoKHsNCiAgICAgICAgICAgICAgICBpZDogcmVzLmRhdGFbJ3Nsb3RzJ11baV1bJ290SUQnXSwNCiAgICAgICAgICAgICAgICB0aXRsZTogJ09mZmljZSBUaW1lJywNCiAgICAgICAgICAgICAgICBzdGFydDogcmVzLmRhdGFbJ3Nsb3RzJ11baV1bJ290RGF0ZSddICsgJ1QnICsgcmVzLmRhdGFbJ3Nsb3RzJ11baV1bJ290U3RhcnRUaW1lJ10sDQogICAgICAgICAgICAgICAgZW5kOiByZXMuZGF0YVsnc2xvdHMnXVtpXVsnb3REYXRlJ10gKyAnVCcgKyByZXMuZGF0YVsnc2xvdHMnXVtpXVsnb3RFbmRUaW1lJ10sDQogICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2IwZTBlNicsDQogICAgICAgICAgICAgICAgb3ZlcmxhcDogZmFsc2UsDQogICAgICAgICAgICAgICAgZXh0ZW5kZWRQcm9wczogew0KICAgICAgICAgICAgICAgICAgTG9jYXRpb246IHJlcy5kYXRhWydzbG90cyddW2ldWydvdExvY2F0aW9uJ10NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC8vIH0gZWxzZSB7DQogICAgICAgICAgICAgIC8vICAgdGhpcy5jYWxlbmRhck9wdGlvbnMuZXZlbnRzLnB1c2goew0KICAgICAgICAgICAgICAvLyAgICAgaWQ6IHRoaXMuc291cmNlLm90TGlzdHNbaV0ub3RJRC50b1N0cmluZygpLA0KICAgICAgICAgICAgICAvLyAgICAgdGl0bGU6ICdPZmZpY2UgVGltZScsDQogICAgICAgICAgICAgIC8vICAgICBzdGFydDogdGhpcy5zb3VyY2Uub3RMaXN0c1tpXS5vdERhdGUgKyAnVCcgKyB0aGlzLnNvdXJjZS5vdExpc3RzW2ldLm90U3RhcnRUaW1lICsgJzowMCcsDQogICAgICAgICAgICAgIC8vICAgICBlbmQ6IHRoaXMuc291cmNlLm90TGlzdHNbaV0ub3REYXRlICsgJ1QnICsgdGhpcy5zb3VyY2Uub3RMaXN0c1tpXS5vdEVuZFRpbWUgKyAnOjAwJywNCiAgICAgICAgICAgICAgLy8gICAgIG92ZXJsYXA6IHRydWUsDQogICAgICAgICAgICAgIC8vICAgICBleHRlbmRlZFByb3BzOiB7DQogICAgICAgICAgICAgIC8vICAgICAgIExvY2F0aW9uOiB0aGlzLnNvdXJjZS5vdExpc3RzW2ldLm90TG9jYXRpb24NCiAgICAgICAgICAgICAgLy8gICAgIH0NCiAgICAgICAgICAgICAgLy8gICB9KQ0KICAgICAgICAgICAgICAvLyB9DQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy4kYWxlcnQoJ1RoZSBwcm9mZXNzb3IgZG9lcyBub3QgaGF2ZSBvZmZpY2UgdGltZSB0aGlzIHdlZWsnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7IC8vIOivt+axguWksei0peWkhOeQhg0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICB9KQogICAgfSwNCiAgICBoYW5kbGVFdmVudENsaWNrOiBmdW5jdGlvbihpbmZvKSB7DQogICAgICAvLyBhbGVydChpbmZvLmV2ZW50LmV4dGVuZGVkUHJvcHMuTG9jYXRpb24pDQogICAgICB2YXIgZmxhZyA9IGZhbHNlDQogICAgICBpZiAoIWluZm8uZXZlbnQub3ZlcmxhcCkgew0KICAgICAgICB2YXIgaG91cnMgPSBpbmZvLmV2ZW50LnN0YXJ0LmdldEhvdXJzKCkudG9TdHJpbmcoKQ0KICAgICAgICBpZiAoaG91cnMubGVuZ3RoID09IDEpIHsgaG91cnMgPSAnMCcgKyBob3VycyB9DQogICAgICAgIHZhciBtaW51dGVzID0gaW5mby5ldmVudC5zdGFydC5nZXRNaW51dGVzKCkudG9TdHJpbmcoKQ0KICAgICAgICBpZiAobWludXRlcy5sZW5ndGggPT0gMSkgeyBtaW51dGVzID0gJzAnICsgbWludXRlcyB9DQogICAgICAgIHZhciB0aW1lcyA9IGhvdXJzICsgJzonICsgbWludXRlcw0KICAgICAgICBpZiAoY29uZmlybSgnRG8geW91IHdhbnQgdG8gYm9vayB0aGUgT2ZmaWNlVGltZSBhdCAnICsgdGltZXMgKyAnPycpKSB7DQogICAgICAgICAgdmFyIHN0dWRlbnRfaWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnRva2VuDQogICAgICAgICAgYm9va09mZmljZVRpbWUoaW5mby5ldmVudC5pZCwgc3R1ZGVudF9pZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhWydzdWNjZXNzJ10pIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Jvb2sgU3VjY2Vzc2Z1bGx5JywNCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgdGhpcy5zdHVkZW50U2VhcmNoUHJvZigpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLiRhbGVydCgnQm9vayBmYWlsIScpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4geyAvLyDor7fmsYLlpLHotKXlpITnkIYNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uKGluZm8pIHsNCiAgICAgIC8vIGFsZXJ0KCdFdmVudDogJyArIGluZm8uZXZlbnQudGl0bGUpDQogICAgICB0aXBweShpbmZvLmVsLCB7DQogICAgICAgIGNvbnRlbnQ6ICdMb2NhdGlvbjogJyArIGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcy5Mb2NhdGlvbg0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["otStudentSearchProf.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"otStudentSearchProf.vue","sourceRoot":"src/views/ot","sourcesContent":["<template>\r\n  <div>\r\n    <el-form label=\"query\" style=\"text-align: left;margin-left:5%;margin-top:2%;\">\r\n      <el-input\r\n        v-model=\"message\"\r\n        style=\"width: 220px\"\r\n        placeholder=\"Input Faculty's name\"\r\n        prefix-icon=\"el-icon-search\"\r\n        clearable\n      />\r\n      <el-button @click.native=\"studentSearchProf()\">Search</el-button>\r\n      <el-button style=\"margin-left: 63%\">\r\n        <router-link to=\"/officetime/student/my\">My Reservations</router-link>\r\n      </el-button>\r\n    </el-form>\r\n    <div>    <p style=\"margin-left:35%; font-size:2rem;\">{{ message }} Office Time</p>\r\n      <div style=\"margin-left:5%; width:90%;\">\r\n\r\n        <FullCalendar\r\n          :options=\"calendarOptions\"\r\n        />\r\n      </div></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@fullcalendar/core/vdom'\r\nimport FullCalendar from '@fullcalendar/vue'\r\nimport DayGridPlugin from '@fullcalendar/daygrid'\r\nimport TimeGridPlugin from '@fullcalendar/timegrid'\r\nimport InteractionPlugin from '@fullcalendar/interaction'\r\nimport ListPlugin from '@fullcalendar/list'\r\nimport { bookOfficeTime, searchProf } from '@/api/ot'\r\n\r\n// import axios from 'axios'\r\nimport tippy from 'tippy.js'\r\n// import 'tippy.js/dist/tippy.css'\r\n// import 'tippy.js/themes/light.css';\r\n// import 'tippy.js/animations/scale.css';\r\n\r\n// require('@fullcalendar/core/main.min.css')\r\nrequire('@fullcalendar/daygrid/main.min.css')\r\nrequire('@fullcalendar/timegrid/main.min.css')\r\n\r\nexport default {\r\n  components: { FullCalendar },\r\n  data() {\r\n    return {\r\n      value: '',\r\n      message: '',\r\n      source: {\r\n        Professor_Name: 'p1',\r\n        success: true,\r\n        otLists:\r\n        [\r\n          {\r\n            otID: 11,\r\n            otDate: '2022-04-10',\r\n            otStartTime: '09:00',\r\n            otEndTime: '10:00',\r\n            otLocation: 'place1',\r\n            isBooked: false,\r\n            booked_by: 'student'\r\n          },\r\n          {\r\n            otID: 12,\r\n            otDate: '2022-04-11',\r\n            otStartTime: '09:00',\r\n            otEndTime: '10:00',\r\n            otLocation: 'place1',\r\n            isBooked: true,\r\n            booked_by: 'student'\r\n          }\r\n        ]\r\n      },\r\n      calendarOptions: {\r\n        plugins: [DayGridPlugin, InteractionPlugin, TimeGridPlugin, ListPlugin],\r\n        initialView: 'timeGridWeek',\r\n        // backgroundColor: '#D3D3D3',\r\n        headerToolbar: { // 日历头部按钮位置\r\n          left: 'title',\r\n          center: '',\r\n          right: 'prev today next'\r\n        },\r\n        height: 660,\r\n        slotLabelFormat: {\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n          meridiem: false,\r\n          hour12: false // 设置时间为24小时\r\n        },\r\n        customButtons: {\r\n          addEventButton: {\r\n            text: 'add event...',\r\n            click: this.handleButtonClick\r\n          }\r\n        },\r\n        slotDuration: '00:10:00',\r\n        slotMaxTime: '24:00:00',\r\n        slotMinTime: '8:00:00',\r\n        allDaySlot: false,\r\n        dateClick: this.handleDateClick,\r\n        eventClick: this.handleEventClick,\r\n        eventMouseEnter: this.handleMouseEnter,\r\n        selectable: false,\r\n        events: []\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.message = this.$route.params.message\r\n  },\r\n  mounted() {\r\n    this.studentSearchProf()\r\n  },\r\n  methods: {\r\n    studentSearchProf: function() {\r\n      // alert('send'+this.message)\r\n      searchProf(this.message)\r\n        .then(res => {\r\n          console.log('---student get office time---')\r\n          console.log(this.message)\r\n          console.log(res.data)\r\n          this.calendarOptions.events = []\r\n          if (res.data['success']) {\r\n            this.$message({\r\n              message: 'Search Successfully',\r\n              type: 'success'\r\n            })\r\n            for (var i = 0; i < res.data['slots'].length; i++) {\r\n              // if (!this.source.otLists[i].isBooked) {\r\n              this.calendarOptions.events.push({\r\n                id: res.data['slots'][i]['otID'],\r\n                title: 'Office Time',\r\n                start: res.data['slots'][i]['otDate'] + 'T' + res.data['slots'][i]['otStartTime'],\r\n                end: res.data['slots'][i]['otDate'] + 'T' + res.data['slots'][i]['otEndTime'],\r\n                backgroundColor: '#b0e0e6',\r\n                overlap: false,\r\n                extendedProps: {\r\n                  Location: res.data['slots'][i]['otLocation']\r\n                }\r\n              })\r\n              // } else {\r\n              //   this.calendarOptions.events.push({\r\n              //     id: this.source.otLists[i].otID.toString(),\r\n              //     title: 'Office Time',\r\n              //     start: this.source.otLists[i].otDate + 'T' + this.source.otLists[i].otStartTime + ':00',\r\n              //     end: this.source.otLists[i].otDate + 'T' + this.source.otLists[i].otEndTime + ':00',\r\n              //     overlap: true,\r\n              //     extendedProps: {\r\n              //       Location: this.source.otLists[i].otLocation\r\n              //     }\r\n              //   })\r\n              // }\r\n            }\n          } else {\r\n            this.$alert('The professor does not have office time this week')\r\n          }\r\n        })\r\n        .catch(function(error) { // 请求失败处理\r\n          console.log(error)\r\n        })\n    },\r\n    handleEventClick: function(info) {\r\n      // alert(info.event.extendedProps.Location)\r\n      var flag = false\r\n      if (!info.event.overlap) {\r\n        var hours = info.event.start.getHours().toString()\r\n        if (hours.length == 1) { hours = '0' + hours }\r\n        var minutes = info.event.start.getMinutes().toString()\r\n        if (minutes.length == 1) { minutes = '0' + minutes }\r\n        var times = hours + ':' + minutes\r\n        if (confirm('Do you want to book the OfficeTime at ' + times + '?')) {\r\n          var student_id = this.$store.state.user.token\r\n          bookOfficeTime(info.event.id, student_id).then(res => {\r\n            if (res.data['success']) {\r\n              this.$message({\r\n                message: 'Book Successfully',\r\n                type: 'success'\r\n              })\r\n              this.studentSearchProf()\r\n            } else {\r\n              this.$alert('Book fail!')\r\n            }\r\n          }).catch(error => { // 请求失败处理\r\n            console.log(error)\r\n          })\r\n        }\r\n      }\r\n    },\r\n    handleMouseEnter: function(info) {\r\n      // alert('Event: ' + info.event.title)\r\n      tippy(info.el, {\r\n        content: 'Location: ' + info.event.extendedProps.Location\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}