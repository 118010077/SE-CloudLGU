{"remainingRequest":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\login\\validationcode.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\login\\validationcode.vue","mtime":1650297032244},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\babel-loader\\lib\\index.js","mtime":1650207856467},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js","mtime":1650207856617}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdWYWxpZGF0aW9uQ29kZScsDQogIHByb3BzOiB7DQogICAgaWRlbnRpZnlDb2RlOiB7IC8vIOm7mOiupOazqOWGjOeggQ0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJzEyMzQnDQogICAgfSwNCiAgICBmb250U2l6ZU1pbjogeyAvLyDlrZfkvZPmnIDlsI/lgLwNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDI1DQogICAgfSwNCiAgICBmb250U2l6ZU1heDogeyAvLyDlrZfkvZPmnIDlpKflgLwNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDM1DQogICAgfSwNCiAgICBiYWNrZ3JvdW5kQ29sb3JNaW46IHsgLy8g6aqM6K+B56CB5Zu+54mH6IOM5pmv6Imy5pyA5bCP5YC8DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAyMDANCiAgICB9LA0KICAgIGJhY2tncm91bmRDb2xvck1heDogeyAvLyDpqozor4HnoIHlm77niYfog4zmma/oibLmnIDlpKflgLwNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDIyMA0KICAgIH0sDQogICAgZG90Q29sb3JNaW46IHsgLy8g6IOM5pmv5bmy5omw54K55pyA5bCP5YC8DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiA2MA0KICAgIH0sDQogICAgZG90Q29sb3JNYXg6IHsgLy8g6IOM5pmv5bmy5omw54K55pyA5aSn5YC8DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAxMjANCiAgICB9LA0KICAgIGNvbnRlbnRXaWR0aDogeyAvLyDlrrnlmajlrr3luqYNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDkwDQogICAgfSwNCiAgICBjb250ZW50SGVpZ2h0OiB7IC8vIOWuueWZqOmrmOW6pg0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMzgNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgaWRlbnRpZnlDb2RlKCkgew0KICAgICAgdGhpcy5kcmF3UGljKCkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5kcmF3UGljKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAvLyDnlJ/miJDkuIDkuKrpmo/mnLrmlbANCiAgICByYW5kb21OdW0obWluLCBtYXgpIHsNCiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbikNCiAgICB9LA0KDQogICAgLy8g55Sf5oiQ5LiA5Liq6ZqP5py655qE6aKc6ImyDQogICAgcmFuZG9tQ29sb3IobWluLCBtYXgpIHsNCiAgICAgIGNvbnN0IHIgPSB0aGlzLnJhbmRvbU51bShtaW4sIG1heCkNCiAgICAgIGNvbnN0IGcgPSB0aGlzLnJhbmRvbU51bShtaW4sIG1heCkNCiAgICAgIGNvbnN0IGIgPSB0aGlzLnJhbmRvbU51bShtaW4sIG1heCkNCiAgICAgIHJldHVybiAncmdiKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnKScNCiAgICB9LA0KDQogICAgZHJhd1BpYygpIHsNCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzLWNhbnZhcycpDQogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKQ0KICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdib3R0b20nDQogICAgICAvLyDnu5jliLbog4zmma8NCiAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2U2ZWNmZCcNCiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLmNvbnRlbnRXaWR0aCwgdGhpcy5jb250ZW50SGVpZ2h0KQ0KICAgICAgLy8g57uY5Yi25paH5a2XDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaWRlbnRpZnlDb2RlLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIHRoaXMuZHJhd1RleHQoY3R4LCB0aGlzLmlkZW50aWZ5Q29kZVtpXSwgaSkNCiAgICAgIH0NCiAgICAgIHRoaXMuZHJhd0xpbmUoY3R4KQ0KICAgICAgdGhpcy5kcmF3RG90KGN0eCkNCiAgICB9LA0KDQogICAgZHJhd1RleHQoY3R4LCB0eHQsIGkpIHsNCiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnJhbmRvbUNvbG9yKDUwLCAxNjApIC8vIOmaj+acuueUn+aIkOWtl+S9k+minOiJsg0KICAgICAgY3R4LmZvbnQgPSB0aGlzLnJhbmRvbU51bSh0aGlzLmZvbnRTaXplTWluLCB0aGlzLmZvbnRTaXplTWF4KSArICdweCBTaW1IZWknIC8vIOmaj+acuueUn+aIkOWtl+S9k+Wkp+Wwjw0KICAgICAgY29uc3QgeCA9IChpICsgMSkgKiAodGhpcy5jb250ZW50V2lkdGggLyAodGhpcy5pZGVudGlmeUNvZGUubGVuZ3RoICsgMSkpDQogICAgICBjb25zdCB5ID0gdGhpcy5yYW5kb21OdW0odGhpcy5mb250U2l6ZU1heCwgdGhpcy5jb250ZW50SGVpZ2h0IC0gNSkNCiAgICAgIHZhciBkZWcgPSB0aGlzLnJhbmRvbU51bSgtMzAsIDMwKQ0KICAgICAgLy8g5L+u5pS55Z2Q5qCH5Y6f54K55ZKM5peL6L2s6KeS5bqmDQogICAgICBjdHgudHJhbnNsYXRlKHgsIHkpDQogICAgICBjdHgucm90YXRlKGRlZyAqIE1hdGguUEkgLyAxODApDQogICAgICBjdHguZmlsbFRleHQodHh0LCAwLCAwKQ0KICAgICAgLy8g5oGi5aSN5Z2Q5qCH5Y6f54K55ZKM5peL6L2s6KeS5bqmDQogICAgICBjdHgucm90YXRlKC1kZWcgKiBNYXRoLlBJIC8gMTgwKQ0KICAgICAgY3R4LnRyYW5zbGF0ZSgteCwgLXkpDQogICAgfSwNCg0KICAgIGRyYXdMaW5lKGN0eCkgew0KICAgICAgLy8g57uY5Yi25bmy5omw57q/DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgew0KICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnJhbmRvbUNvbG9yKDEwMCwgMjAwKQ0KICAgICAgICBjdHguYmVnaW5QYXRoKCkNCiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRXaWR0aCksIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudEhlaWdodCkpDQogICAgICAgIGN0eC5saW5lVG8odGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50V2lkdGgpLCB0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRIZWlnaHQpKQ0KICAgICAgICBjdHguc3Ryb2tlKCkNCiAgICAgIH0NCiAgICB9LA0KDQogICAgZHJhd0RvdChjdHgpIHsNCiAgICAgIC8vIOe7mOWItuW5suaJsOeCuQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDsgaSsrKSB7DQogICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnJhbmRvbUNvbG9yKDAsIDI1NSkNCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpDQogICAgICAgIGN0eC5hcmModGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50V2lkdGgpLCB0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRIZWlnaHQpLCAxLCAwLCAyICogTWF0aC5QSSkNCiAgICAgICAgY3R4LmZpbGwoKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["validationcode.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"validationcode.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n  <div class=\"s-canvas\">\r\n    <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\" />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'ValidationCode',\r\n  props: {\r\n    identifyCode: { // 默认注册码\r\n      type: String,\r\n      default: '1234'\r\n    },\r\n    fontSizeMin: { // 字体最小值\r\n      type: Number,\r\n      default: 25\r\n    },\r\n    fontSizeMax: { // 字体最大值\r\n      type: Number,\r\n      default: 35\r\n    },\r\n    backgroundColorMin: { // 验证码图片背景色最小值\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    backgroundColorMax: { // 验证码图片背景色最大值\r\n      type: Number,\r\n      default: 220\r\n    },\r\n    dotColorMin: { // 背景干扰点最小值\r\n      type: Number,\r\n      default: 60\r\n    },\r\n    dotColorMax: { // 背景干扰点最大值\r\n      type: Number,\r\n      default: 120\r\n    },\r\n    contentWidth: { // 容器宽度\r\n      type: Number,\r\n      default: 90\r\n    },\r\n    contentHeight: { // 容器高度\r\n      type: Number,\r\n      default: 38\r\n    }\r\n  },\r\n  watch: {\r\n    identifyCode() {\r\n      this.drawPic()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawPic()\r\n  },\r\n  methods: {\r\n  // 生成一个随机数\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n\r\n    // 生成一个随机的颜色\r\n    randomColor(min, max) {\r\n      const r = this.randomNum(min, max)\r\n      const g = this.randomNum(min, max)\r\n      const b = this.randomNum(min, max)\r\n      return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n    },\r\n\r\n    drawPic() {\r\n      const canvas = document.getElementById('s-canvas')\r\n      const ctx = canvas.getContext('2d')\r\n      ctx.textBaseline = 'bottom'\r\n      // 绘制背景\r\n      ctx.fillStyle = '#e6ecfd'\r\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n      // 绘制文字\r\n      for (let i = 0; i < this.identifyCode.length; i++) {\r\n        this.drawText(ctx, this.identifyCode[i], i)\r\n      }\r\n      this.drawLine(ctx)\r\n      this.drawDot(ctx)\r\n    },\r\n\r\n    drawText(ctx, txt, i) {\r\n      ctx.fillStyle = this.randomColor(50, 160) // 随机生成字体颜色\r\n      ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei' // 随机生成字体大小\r\n      const x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n      const y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n      var deg = this.randomNum(-30, 30)\r\n      // 修改坐标原点和旋转角度\r\n      ctx.translate(x, y)\r\n      ctx.rotate(deg * Math.PI / 180)\r\n      ctx.fillText(txt, 0, 0)\r\n      // 恢复坐标原点和旋转角度\r\n      ctx.rotate(-deg * Math.PI / 180)\r\n      ctx.translate(-x, -y)\r\n    },\r\n\r\n    drawLine(ctx) {\r\n      // 绘制干扰线\r\n      for (let i = 0; i < 4; i++) {\r\n        ctx.strokeStyle = this.randomColor(100, 200)\r\n        ctx.beginPath()\r\n        ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.stroke()\r\n      }\r\n    },\r\n\r\n    drawDot(ctx) {\r\n      // 绘制干扰点\r\n      for (let i = 0; i < 30; i++) {\r\n        ctx.fillStyle = this.randomColor(0, 255)\r\n        ctx.beginPath()\r\n        ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}