{"remainingRequest":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\ot\\otStudentSearchWeek.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\ot\\otStudentSearchWeek.vue","mtime":1650297135441},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\babel-loader\\lib\\index.js","mtime":1650207856467},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js","mtime":1650207856617}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJ0BmdWxsY2FsZW5kYXIvY29yZS92ZG9tJw0KaW1wb3J0IEZ1bGxDYWxlbmRhciBmcm9tICdAZnVsbGNhbGVuZGFyL3Z1ZScNCmltcG9ydCBEYXlHcmlkUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvZGF5Z3JpZCcNCmltcG9ydCBUaW1lR3JpZFBsdWdpbiBmcm9tICdAZnVsbGNhbGVuZGFyL3RpbWVncmlkJw0KaW1wb3J0IEludGVyYWN0aW9uUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvaW50ZXJhY3Rpb24nDQppbXBvcnQgTGlzdFBsdWdpbiBmcm9tICdAZnVsbGNhbGVuZGFyL2xpc3QnDQppbXBvcnQgeyBzZWFyY2hXZWVrIH0gZnJvbSAnQC9hcGkvb3QnDQoNCi8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCi8vIGltcG9ydCB0aXBweSBmcm9tICd0aXBweS5qcycNCi8vIGltcG9ydCAndGlwcHkuanMvZGlzdC90aXBweS5jc3MnDQovLyBpbXBvcnQgJ3RpcHB5LmpzL3RoZW1lcy9saWdodC5jc3MnOw0KLy8gaW1wb3J0ICd0aXBweS5qcy9hbmltYXRpb25zL3NjYWxlLmNzcyc7DQoNCi8vIHJlcXVpcmUoJ0BmdWxsY2FsZW5kYXIvY29yZS9tYWluLm1pbi5jc3MnKQ0KcmVxdWlyZSgnQGZ1bGxjYWxlbmRhci9kYXlncmlkL21haW4ubWluLmNzcycpDQpyZXF1aXJlKCdAZnVsbGNhbGVuZGFyL3RpbWVncmlkL21haW4ubWluLmNzcycpDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogeyBGdWxsQ2FsZW5kYXIgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbWVzc2FnZTogJ3Byb2YxJywNCiAgICAgIHNvdXJjZTogew0KICAgICAgICBzdWNjZXNzOiB0cnVlLA0KICAgICAgICBvdExpc3RzOg0KICAgICAgICBbDQogICAgICAgICAgew0KICAgICAgICAgICAgb3RJRDogMTEsDQogICAgICAgICAgICBvdERhdGU6ICcyMDIyLTA0LTEwJywNCiAgICAgICAgICAgIG90U3RhcnRUaW1lOiAnMDk6MDAnLA0KICAgICAgICAgICAgb3RFbmRUaW1lOiAnMTA6MDAnLA0KICAgICAgICAgICAgb3RMb2NhdGlvbjogJ3BsYWNlMScsDQogICAgICAgICAgICBpc0Jvb2tlZDogZmFsc2UsDQogICAgICAgICAgICBib29rZWRfYnk6ICdzdHVkZW50JywNCiAgICAgICAgICAgIHByb2ZfbmFtZTogJ3AzJw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgb3RJRDogMTIsDQogICAgICAgICAgICBvdERhdGU6ICcyMDIyLTA0LTExJywNCiAgICAgICAgICAgIG90U3RhcnRUaW1lOiAnMDk6MDAnLA0KICAgICAgICAgICAgb3RFbmRUaW1lOiAnMTA6MDAnLA0KICAgICAgICAgICAgb3RMb2NhdGlvbjogJ3BsYWNlMScsDQogICAgICAgICAgICBpc0Jvb2tlZDogdHJ1ZSwNCiAgICAgICAgICAgIGJvb2tlZF9ieTogJ3N0dWRlbnQnLA0KICAgICAgICAgICAgcHJvZl9uYW1lOiAncDMnDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgY2FsZW5kYXJPcHRpb25zOiB7DQogICAgICAgIHBsdWdpbnM6IFtEYXlHcmlkUGx1Z2luLCBJbnRlcmFjdGlvblBsdWdpbiwgVGltZUdyaWRQbHVnaW4sIExpc3RQbHVnaW5dLA0KICAgICAgICBpbml0aWFsVmlldzogJ2RheUdyaWRXZWVrJywNCiAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiAnI0QzRDNEMycsDQogICAgICAgIGhlYWRlclRvb2xiYXI6IHsgLy8g5pel5Y6G5aS06YOo5oyJ6ZKu5L2N572uDQogICAgICAgICAgbGVmdDogJ3RpdGxlJywNCiAgICAgICAgICBjZW50ZXI6ICcnLA0KICAgICAgICAgIHJpZ2h0OiAncHJldiB0b2RheSBuZXh0Jw0KICAgICAgICB9LA0KICAgICAgICBoZWlnaHQ6IDY2MCwNCiAgICAgICAgc2xvdExhYmVsRm9ybWF0OiB7DQogICAgICAgICAgaG91cjogJzItZGlnaXQnLA0KICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLA0KICAgICAgICAgIG1lcmlkaWVtOiBmYWxzZSwNCiAgICAgICAgICBob3VyMTI6IGZhbHNlIC8vIOiuvue9ruaXtumXtOS4ujI05bCP5pe2DQogICAgICAgIH0sDQogICAgICAgIHNsb3REdXJhdGlvbjogJzAwOjEwOjAwJywNCiAgICAgICAgc2xvdE1heFRpbWU6ICcyNDowMDowMCcsDQogICAgICAgIHNsb3RNaW5UaW1lOiAnODowMDowMCcsDQogICAgICAgIGFsbERheVNsb3Q6IGZhbHNlLA0KICAgICAgICBkYXRlQ2xpY2s6IHRoaXMuaGFuZGxlRGF0ZUNsaWNrLA0KICAgICAgICBldmVudENsaWNrOiB0aGlzLmhhbmRsZUV2ZW50Q2xpY2ssDQogICAgICAgIGV2ZW50TW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLA0KICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSwNCiAgICAgICAgZXZlbnRzOiBbXQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBzZWFyY2hXZWVrKCkNCiAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YVsnc3VjY2VzcyddKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiAnU2VhcmNoIFN1Y2Nlc3NmdWxseScsDQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoZXJlJykNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSkNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YVsnbGlzdHMnXVswXSkNCiAgICAgICAgICB0aGlzLmNhbGVuZGFyT3B0aW9ucy5ldmVudHMgPSBbXQ0KICAgICAgICAgIGZvciAodmFyIGtleSBpbiByZXMuZGF0YVsnbGlzdHMnXSkgew0KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXMuZGF0YVsnbGlzdHMnXVtrZXldLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJPcHRpb25zLmV2ZW50cy5wdXNoKHsNCiAgICAgICAgICAgICAgICBpZDogMSwNCiAgICAgICAgICAgICAgICB0aXRsZToga2V5ICsgIidzIE9mZmljZSBUaW1lIiwNCiAgICAgICAgICAgICAgICBzdGFydDogcmVzLmRhdGFbJ2xpc3RzJ11ba2V5XVtqXSwNCiAgICAgICAgICAgICAgICBhbGxEYXk6IHRydWUsDQogICAgICAgICAgICAgICAgb3ZlcmxhcDogdHJ1ZSwNCiAgICAgICAgICAgICAgICBleHRlbmRlZFByb3BzOiB7DQogICAgICAgICAgICAgICAgICBwcm9mX25hbWU6IGtleQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5jYWxlbmRhck9wdGlvbnMuZXZlbnRzWzBdKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRhbGVydCgnTm8gYXZhaWxhYmxlIE9mZmljZVRpbWUgdGhpcyB3ZWVrIScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsgLy8g6K+35rGC5aSx6LSl5aSE55CGDQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGhhbmRsZUV2ZW50Q2xpY2s6IGZ1bmN0aW9uKGluZm8pIHsNCiAgICAgIC8vIGFsZXJ0KGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcy5wcm9mX25hbWUpDQoNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgbmFtZTogJ3N0dWRlbnRTZWFyY2hQcm9mJywNCiAgICAgICAgcGFyYW1zOiB7IG1lc3NhZ2U6IGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcy5wcm9mX25hbWUgfQ0KICAgICAgfSkNCiAgICAgIC8vIGFsZXJ0KGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcy5wcm9mX25hbWUpDQogICAgfQ0KICAgIC8vIGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uIChpbmZvKSB7DQogICAgLy8gICB0aXBweShpbmZvLmVsLCB7DQogICAgLy8gICAgIGNvbnRlbnQ6IGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcy5Mb2NhdGlvbg0KICAgIC8vICAgfSkNCiAgICAvLyB9DQogIH0NCn0NCg=="},{"version":3,"sources":["otStudentSearchWeek.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"otStudentSearchWeek.vue","sourceRoot":"src/views/ot","sourcesContent":["<template>\r\n  <div>\r\n    <el-form label=\"query\" style=\"text-align: left;margin-left:5%;margin-top:2%;\">\r\n      <el-input\r\n        v-model=\"message\"\r\n        style=\"width: 220px\"\r\n        placeholder=\"Input Faculty's name\"\r\n        prefix-icon=\"el-icon-search\"\r\n        clearable\r\n      />\r\n      <el-button>\r\n        <router-link :to=\"{name:'studentSearchProf', params:{message: message}}\">Search</router-link>\r\n      </el-button>\r\n      <el-button style=\"margin-left: 63%\">\r\n        <router-link to=\"/officetime/student/my\"> My Reservations</router-link>\r\n      </el-button>\r\n    </el-form>\r\n    <p style=\"margin-left:35%; font-size:2rem;\">Available Office Time</p>\r\n    <div style=\"margin-left:5%; width:90%;\">\r\n      <FullCalendar\r\n        :options=\"calendarOptions\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@fullcalendar/core/vdom'\r\nimport FullCalendar from '@fullcalendar/vue'\r\nimport DayGridPlugin from '@fullcalendar/daygrid'\r\nimport TimeGridPlugin from '@fullcalendar/timegrid'\r\nimport InteractionPlugin from '@fullcalendar/interaction'\r\nimport ListPlugin from '@fullcalendar/list'\r\nimport { searchWeek } from '@/api/ot'\r\n\r\n// import axios from 'axios'\r\n// import tippy from 'tippy.js'\r\n// import 'tippy.js/dist/tippy.css'\r\n// import 'tippy.js/themes/light.css';\r\n// import 'tippy.js/animations/scale.css';\r\n\r\n// require('@fullcalendar/core/main.min.css')\r\nrequire('@fullcalendar/daygrid/main.min.css')\r\nrequire('@fullcalendar/timegrid/main.min.css')\r\n\r\nexport default {\r\n  components: { FullCalendar },\r\n  data() {\r\n    return {\r\n      message: 'prof1',\r\n      source: {\r\n        success: true,\r\n        otLists:\r\n        [\r\n          {\r\n            otID: 11,\r\n            otDate: '2022-04-10',\r\n            otStartTime: '09:00',\r\n            otEndTime: '10:00',\r\n            otLocation: 'place1',\r\n            isBooked: false,\r\n            booked_by: 'student',\r\n            prof_name: 'p3'\r\n          },\r\n          {\r\n            otID: 12,\r\n            otDate: '2022-04-11',\r\n            otStartTime: '09:00',\r\n            otEndTime: '10:00',\r\n            otLocation: 'place1',\r\n            isBooked: true,\r\n            booked_by: 'student',\r\n            prof_name: 'p3'\r\n          }\r\n        ]\r\n      },\r\n      calendarOptions: {\r\n        plugins: [DayGridPlugin, InteractionPlugin, TimeGridPlugin, ListPlugin],\r\n        initialView: 'dayGridWeek',\r\n        // backgroundColor: '#D3D3D3',\r\n        headerToolbar: { // 日历头部按钮位置\r\n          left: 'title',\r\n          center: '',\r\n          right: 'prev today next'\r\n        },\r\n        height: 660,\r\n        slotLabelFormat: {\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n          meridiem: false,\r\n          hour12: false // 设置时间为24小时\r\n        },\r\n        slotDuration: '00:10:00',\r\n        slotMaxTime: '24:00:00',\r\n        slotMinTime: '8:00:00',\r\n        allDaySlot: false,\r\n        dateClick: this.handleDateClick,\r\n        eventClick: this.handleEventClick,\r\n        eventMouseEnter: this.handleMouseEnter,\r\n        selectable: false,\r\n        events: []\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    searchWeek()\r\n      .then(res => {\r\n        if (res.data['success']) {\r\n          this.$message({\r\n            message: 'Search Successfully',\r\n            type: 'success'\r\n          })\r\n          // console.log('here')\r\n          // console.log(res.data)\r\n          // console.log(res.data['lists'][0])\r\n          this.calendarOptions.events = []\r\n          for (var key in res.data['lists']) {\r\n            for (var j = 0; j < res.data['lists'][key].length; j++) {\r\n              this.calendarOptions.events.push({\r\n                id: 1,\r\n                title: key + \"'s Office Time\",\r\n                start: res.data['lists'][key][j],\r\n                allDay: true,\r\n                overlap: true,\r\n                extendedProps: {\r\n                  prof_name: key\r\n                }\r\n              })\r\n              // console.log(this.calendarOptions.events[0])\r\n            }\r\n          }\r\n        } else {\r\n          this.$alert('No available OfficeTime this week!')\r\n        }\r\n      })\r\n      .catch(function(error) { // 请求失败处理\r\n        console.log(error)\r\n      })\r\n  },\r\n  methods: {\r\n    handleEventClick: function(info) {\r\n      // alert(info.event.extendedProps.prof_name)\r\n\r\n      this.$router.push({\r\n        name: 'studentSearchProf',\r\n        params: { message: info.event.extendedProps.prof_name }\r\n      })\r\n      // alert(info.event.extendedProps.prof_name)\r\n    }\r\n    // handleMouseEnter: function (info) {\r\n    //   tippy(info.el, {\r\n    //     content: info.event.extendedProps.Location\r\n    //   })\r\n    // }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}