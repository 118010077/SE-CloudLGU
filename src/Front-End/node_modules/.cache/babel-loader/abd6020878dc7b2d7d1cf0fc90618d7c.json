{"remainingRequest":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\babel-loader\\lib\\index.js!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\login\\validationcode.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\login\\validationcode.vue","mtime":1650297032244},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\babel.config.js","mtime":1650206385790},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\babel-loader\\lib\\index.js","mtime":1650207856467},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js","mtime":1650207856617}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7Ci8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVmFsaWRhdGlvbkNvZGUnLAogIHByb3BzOiB7CiAgICBpZGVudGlmeUNvZGU6IHsKICAgICAgLy8g6buY6K6k5rOo5YaM56CBCiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzEyMzQnCiAgICB9LAogICAgZm9udFNpemVNaW46IHsKICAgICAgLy8g5a2X5L2T5pyA5bCP5YC8CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjUKICAgIH0sCiAgICBmb250U2l6ZU1heDogewogICAgICAvLyDlrZfkvZPmnIDlpKflgLwKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAzNQogICAgfSwKICAgIGJhY2tncm91bmRDb2xvck1pbjogewogICAgICAvLyDpqozor4HnoIHlm77niYfog4zmma/oibLmnIDlsI/lgLwKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAKICAgIH0sCiAgICBiYWNrZ3JvdW5kQ29sb3JNYXg6IHsKICAgICAgLy8g6aqM6K+B56CB5Zu+54mH6IOM5pmv6Imy5pyA5aSn5YC8CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjIwCiAgICB9LAogICAgZG90Q29sb3JNaW46IHsKICAgICAgLy8g6IOM5pmv5bmy5omw54K55pyA5bCP5YC8CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNjAKICAgIH0sCiAgICBkb3RDb2xvck1heDogewogICAgICAvLyDog4zmma/lubLmibDngrnmnIDlpKflgLwKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMjAKICAgIH0sCiAgICBjb250ZW50V2lkdGg6IHsKICAgICAgLy8g5a655Zmo5a695bqmCiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogOTAKICAgIH0sCiAgICBjb250ZW50SGVpZ2h0OiB7CiAgICAgIC8vIOWuueWZqOmrmOW6pgogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDM4CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWRlbnRpZnlDb2RlOiBmdW5jdGlvbiBpZGVudGlmeUNvZGUoKSB7CiAgICAgIHRoaXMuZHJhd1BpYygpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZHJhd1BpYygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g55Sf5oiQ5LiA5Liq6ZqP5py65pWwCiAgICByYW5kb21OdW06IGZ1bmN0aW9uIHJhbmRvbU51bShtaW4sIG1heCkgewogICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pOwogICAgfSwKICAgIC8vIOeUn+aIkOS4gOS4qumaj+acuueahOminOiJsgogICAgcmFuZG9tQ29sb3I6IGZ1bmN0aW9uIHJhbmRvbUNvbG9yKG1pbiwgbWF4KSB7CiAgICAgIHZhciByID0gdGhpcy5yYW5kb21OdW0obWluLCBtYXgpOwogICAgICB2YXIgZyA9IHRoaXMucmFuZG9tTnVtKG1pbiwgbWF4KTsKICAgICAgdmFyIGIgPSB0aGlzLnJhbmRvbU51bShtaW4sIG1heCk7CiAgICAgIHJldHVybiAncmdiKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnKSc7CiAgICB9LAogICAgZHJhd1BpYzogZnVuY3Rpb24gZHJhd1BpYygpIHsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzLWNhbnZhcycpOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJzsgLy8g57uY5Yi26IOM5pmvCgogICAgICBjdHguZmlsbFN0eWxlID0gJyNlNmVjZmQnOwogICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jb250ZW50V2lkdGgsIHRoaXMuY29udGVudEhlaWdodCk7IC8vIOe7mOWItuaWh+WtlwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmlkZW50aWZ5Q29kZS5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuZHJhd1RleHQoY3R4LCB0aGlzLmlkZW50aWZ5Q29kZVtpXSwgaSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZHJhd0xpbmUoY3R4KTsKICAgICAgdGhpcy5kcmF3RG90KGN0eCk7CiAgICB9LAogICAgZHJhd1RleHQ6IGZ1bmN0aW9uIGRyYXdUZXh0KGN0eCwgdHh0LCBpKSB7CiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnJhbmRvbUNvbG9yKDUwLCAxNjApOyAvLyDpmo/mnLrnlJ/miJDlrZfkvZPpopzoibIKCiAgICAgIGN0eC5mb250ID0gdGhpcy5yYW5kb21OdW0odGhpcy5mb250U2l6ZU1pbiwgdGhpcy5mb250U2l6ZU1heCkgKyAncHggU2ltSGVpJzsgLy8g6ZqP5py655Sf5oiQ5a2X5L2T5aSn5bCPCgogICAgICB2YXIgeCA9IChpICsgMSkgKiAodGhpcy5jb250ZW50V2lkdGggLyAodGhpcy5pZGVudGlmeUNvZGUubGVuZ3RoICsgMSkpOwogICAgICB2YXIgeSA9IHRoaXMucmFuZG9tTnVtKHRoaXMuZm9udFNpemVNYXgsIHRoaXMuY29udGVudEhlaWdodCAtIDUpOwogICAgICB2YXIgZGVnID0gdGhpcy5yYW5kb21OdW0oLTMwLCAzMCk7IC8vIOS/ruaUueWdkOagh+WOn+eCueWSjOaXi+i9rOinkuW6pgoKICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KTsKICAgICAgY3R4LnJvdGF0ZShkZWcgKiBNYXRoLlBJIC8gMTgwKTsKICAgICAgY3R4LmZpbGxUZXh0KHR4dCwgMCwgMCk7IC8vIOaBouWkjeWdkOagh+WOn+eCueWSjOaXi+i9rOinkuW6pgoKICAgICAgY3R4LnJvdGF0ZSgtZGVnICogTWF0aC5QSSAvIDE4MCk7CiAgICAgIGN0eC50cmFuc2xhdGUoLXgsIC15KTsKICAgIH0sCiAgICBkcmF3TGluZTogZnVuY3Rpb24gZHJhd0xpbmUoY3R4KSB7CiAgICAgIC8vIOe7mOWItuW5suaJsOe6vwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucmFuZG9tQ29sb3IoMTAwLCAyMDApOwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHgubW92ZVRvKHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudFdpZHRoKSwgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50SGVpZ2h0KSk7CiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRXaWR0aCksIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudEhlaWdodCkpOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgfQogICAgfSwKICAgIGRyYXdEb3Q6IGZ1bmN0aW9uIGRyYXdEb3QoY3R4KSB7CiAgICAgIC8vIOe7mOWItuW5suaJsOeCuQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMwOyBpKyspIHsKICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5yYW5kb21Db2xvcigwLCAyNTUpOwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHguYXJjKHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudFdpZHRoKSwgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50SGVpZ2h0KSwgMSwgMCwgMiAqIE1hdGguUEkpOwogICAgICAgIGN0eC5maWxsKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;AAMA;AACAA,wBADA;AAEAC;AACAC;AAAA;AACAC,kBADA;AAEAC;AAFA,KADA;AAKAC;AAAA;AACAF,kBADA;AAEAC;AAFA,KALA;AASAE;AAAA;AACAH,kBADA;AAEAC;AAFA,KATA;AAaAG;AAAA;AACAJ,kBADA;AAEAC;AAFA,KAbA;AAiBAI;AAAA;AACAL,kBADA;AAEAC;AAFA,KAjBA;AAqBAK;AAAA;AACAN,kBADA;AAEAC;AAFA,KArBA;AAyBAM;AAAA;AACAP,kBADA;AAEAC;AAFA,KAzBA;AA6BAO;AAAA;AACAR,kBADA;AAEAC;AAFA,KA7BA;AAiCAQ;AAAA;AACAT,kBADA;AAEAC;AAFA;AAjCA,GAFA;AAwCAS;AACAX,gBADA,0BACA;AACA;AACA;AAHA,GAxCA;AA6CAY,SA7CA,qBA6CA;AACA;AACA,GA/CA;AAgDAC;AACA;AACAC,aAFA,qBAEAC,GAFA,EAEAC,GAFA,EAEA;AACA;AACA,KAJA;AAMA;AACAC,eAPA,uBAOAF,GAPA,EAOAC,GAPA,EAOA;AACA;AACA;AACA;AACA;AACA,KAZA;AAcAE,WAdA,qBAcA;AACA;AACA;AACAC,kCAHA,CAIA;;AACAA;AACAA,gEANA,CAOA;;AACA;AACA;AACA;;AACA;AACA;AACA,KA3BA;AA6BAC,YA7BA,oBA6BAD,GA7BA,EA6BAE,GA7BA,EA6BAC,CA7BA,EA6BA;AACAH,gDADA,CACA;;AACAA,kFAFA,CAEA;;AACA;AACA;AACA,wCALA,CAMA;;AACAA;AACAA;AACAA,8BATA,CAUA;;AACAA;AACAA;AACA,KA1CA;AA4CAI,YA5CA,oBA4CAJ,GA5CA,EA4CA;AACA;AACA;AACAA;AACAA;AACAA;AACAA;AACAA;AACA;AACA,KArDA;AAuDAK,WAvDA,mBAuDAL,GAvDA,EAuDA;AACA;AACA;AACAA;AACAA;AACAA;AACAA;AACA;AACA;AA/DA;AAhDA","names":["name","props","identifyCode","type","default","fontSizeMin","fontSizeMax","backgroundColorMin","backgroundColorMax","dotColorMin","dotColorMax","contentWidth","contentHeight","watch","mounted","methods","randomNum","min","max","randomColor","drawPic","ctx","drawText","txt","i","drawLine","drawDot"],"sourceRoot":"src/views/login","sources":["validationcode.vue"],"sourcesContent":["<template>\r\n  <div class=\"s-canvas\">\r\n    <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\" />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'ValidationCode',\r\n  props: {\r\n    identifyCode: { // 默认注册码\r\n      type: String,\r\n      default: '1234'\r\n    },\r\n    fontSizeMin: { // 字体最小值\r\n      type: Number,\r\n      default: 25\r\n    },\r\n    fontSizeMax: { // 字体最大值\r\n      type: Number,\r\n      default: 35\r\n    },\r\n    backgroundColorMin: { // 验证码图片背景色最小值\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    backgroundColorMax: { // 验证码图片背景色最大值\r\n      type: Number,\r\n      default: 220\r\n    },\r\n    dotColorMin: { // 背景干扰点最小值\r\n      type: Number,\r\n      default: 60\r\n    },\r\n    dotColorMax: { // 背景干扰点最大值\r\n      type: Number,\r\n      default: 120\r\n    },\r\n    contentWidth: { // 容器宽度\r\n      type: Number,\r\n      default: 90\r\n    },\r\n    contentHeight: { // 容器高度\r\n      type: Number,\r\n      default: 38\r\n    }\r\n  },\r\n  watch: {\r\n    identifyCode() {\r\n      this.drawPic()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawPic()\r\n  },\r\n  methods: {\r\n  // 生成一个随机数\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n\r\n    // 生成一个随机的颜色\r\n    randomColor(min, max) {\r\n      const r = this.randomNum(min, max)\r\n      const g = this.randomNum(min, max)\r\n      const b = this.randomNum(min, max)\r\n      return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n    },\r\n\r\n    drawPic() {\r\n      const canvas = document.getElementById('s-canvas')\r\n      const ctx = canvas.getContext('2d')\r\n      ctx.textBaseline = 'bottom'\r\n      // 绘制背景\r\n      ctx.fillStyle = '#e6ecfd'\r\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n      // 绘制文字\r\n      for (let i = 0; i < this.identifyCode.length; i++) {\r\n        this.drawText(ctx, this.identifyCode[i], i)\r\n      }\r\n      this.drawLine(ctx)\r\n      this.drawDot(ctx)\r\n    },\r\n\r\n    drawText(ctx, txt, i) {\r\n      ctx.fillStyle = this.randomColor(50, 160) // 随机生成字体颜色\r\n      ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei' // 随机生成字体大小\r\n      const x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n      const y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n      var deg = this.randomNum(-30, 30)\r\n      // 修改坐标原点和旋转角度\r\n      ctx.translate(x, y)\r\n      ctx.rotate(deg * Math.PI / 180)\r\n      ctx.fillText(txt, 0, 0)\r\n      // 恢复坐标原点和旋转角度\r\n      ctx.rotate(-deg * Math.PI / 180)\r\n      ctx.translate(-x, -y)\r\n    },\r\n\r\n    drawLine(ctx) {\r\n      // 绘制干扰线\r\n      for (let i = 0; i < 4; i++) {\r\n        ctx.strokeStyle = this.randomColor(100, 200)\r\n        ctx.beginPath()\r\n        ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.stroke()\r\n      }\r\n    },\r\n\r\n    drawDot(ctx) {\r\n      // 绘制干扰点\r\n      for (let i = 0; i < 30; i++) {\r\n        ctx.fillStyle = this.randomColor(0, 255)\r\n        ctx.beginPath()\r\n        ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}