{"remainingRequest":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\babel-loader\\lib\\index.js!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\ot\\otStudentSearchProf.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\src\\views\\ot\\otStudentSearchProf.vue","mtime":1650297032244},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\babel.config.js","mtime":1650206385790},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\babel-loader\\lib\\index.js","mtime":1650207856467},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650207855744},{"path":"F:\\CUHKSZ\\CSC4001\\Project\\SE-CloudLGU\\src\\Front-End\\node_modules\\vue-loader\\lib\\index.js","mtime":1650207856617}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgJ0BmdWxsY2FsZW5kYXIvY29yZS92ZG9tJzsKaW1wb3J0IEZ1bGxDYWxlbmRhciBmcm9tICdAZnVsbGNhbGVuZGFyL3Z1ZSc7CmltcG9ydCBEYXlHcmlkUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvZGF5Z3JpZCc7CmltcG9ydCBUaW1lR3JpZFBsdWdpbiBmcm9tICdAZnVsbGNhbGVuZGFyL3RpbWVncmlkJzsKaW1wb3J0IEludGVyYWN0aW9uUGx1Z2luIGZyb20gJ0BmdWxsY2FsZW5kYXIvaW50ZXJhY3Rpb24nOwppbXBvcnQgTGlzdFBsdWdpbiBmcm9tICdAZnVsbGNhbGVuZGFyL2xpc3QnOwppbXBvcnQgeyBib29rT2ZmaWNlVGltZSwgc2VhcmNoUHJvZiB9IGZyb20gJ0AvYXBpL290JzsgLy8gaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwoKaW1wb3J0IHRpcHB5IGZyb20gJ3RpcHB5LmpzJzsgLy8gaW1wb3J0ICd0aXBweS5qcy9kaXN0L3RpcHB5LmNzcycKLy8gaW1wb3J0ICd0aXBweS5qcy90aGVtZXMvbGlnaHQuY3NzJzsKLy8gaW1wb3J0ICd0aXBweS5qcy9hbmltYXRpb25zL3NjYWxlLmNzcyc7Ci8vIHJlcXVpcmUoJ0BmdWxsY2FsZW5kYXIvY29yZS9tYWluLm1pbi5jc3MnKQoKcmVxdWlyZSgnQGZ1bGxjYWxlbmRhci9kYXlncmlkL21haW4ubWluLmNzcycpOwoKcmVxdWlyZSgnQGZ1bGxjYWxlbmRhci90aW1lZ3JpZC9tYWluLm1pbi5jc3MnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBGdWxsQ2FsZW5kYXI6IEZ1bGxDYWxlbmRhcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiAnJywKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHNvdXJjZTogewogICAgICAgIFByb2Zlc3Nvcl9OYW1lOiAncDEnLAogICAgICAgIHN1Y2Nlc3M6IHRydWUsCiAgICAgICAgb3RMaXN0czogW3sKICAgICAgICAgIG90SUQ6IDExLAogICAgICAgICAgb3REYXRlOiAnMjAyMi0wNC0xMCcsCiAgICAgICAgICBvdFN0YXJ0VGltZTogJzA5OjAwJywKICAgICAgICAgIG90RW5kVGltZTogJzEwOjAwJywKICAgICAgICAgIG90TG9jYXRpb246ICdwbGFjZTEnLAogICAgICAgICAgaXNCb29rZWQ6IGZhbHNlLAogICAgICAgICAgYm9va2VkX2J5OiAnc3R1ZGVudCcKICAgICAgICB9LCB7CiAgICAgICAgICBvdElEOiAxMiwKICAgICAgICAgIG90RGF0ZTogJzIwMjItMDQtMTEnLAogICAgICAgICAgb3RTdGFydFRpbWU6ICcwOTowMCcsCiAgICAgICAgICBvdEVuZFRpbWU6ICcxMDowMCcsCiAgICAgICAgICBvdExvY2F0aW9uOiAncGxhY2UxJywKICAgICAgICAgIGlzQm9va2VkOiB0cnVlLAogICAgICAgICAgYm9va2VkX2J5OiAnc3R1ZGVudCcKICAgICAgICB9XQogICAgICB9LAogICAgICBjYWxlbmRhck9wdGlvbnM6IHsKICAgICAgICBwbHVnaW5zOiBbRGF5R3JpZFBsdWdpbiwgSW50ZXJhY3Rpb25QbHVnaW4sIFRpbWVHcmlkUGx1Z2luLCBMaXN0UGx1Z2luXSwKICAgICAgICBpbml0aWFsVmlldzogJ3RpbWVHcmlkV2VlaycsCiAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiAnI0QzRDNEMycsCiAgICAgICAgaGVhZGVyVG9vbGJhcjogewogICAgICAgICAgLy8g5pel5Y6G5aS06YOo5oyJ6ZKu5L2N572uCiAgICAgICAgICBsZWZ0OiAndGl0bGUnLAogICAgICAgICAgY2VudGVyOiAnJywKICAgICAgICAgIHJpZ2h0OiAncHJldiB0b2RheSBuZXh0JwogICAgICAgIH0sCiAgICAgICAgaGVpZ2h0OiA2NjAsCiAgICAgICAgc2xvdExhYmVsRm9ybWF0OiB7CiAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsCiAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JywKICAgICAgICAgIG1lcmlkaWVtOiBmYWxzZSwKICAgICAgICAgIGhvdXIxMjogZmFsc2UgLy8g6K6+572u5pe26Ze05Li6MjTlsI/ml7YKCiAgICAgICAgfSwKICAgICAgICBjdXN0b21CdXR0b25zOiB7CiAgICAgICAgICBhZGRFdmVudEJ1dHRvbjogewogICAgICAgICAgICB0ZXh0OiAnYWRkIGV2ZW50Li4uJywKICAgICAgICAgICAgY2xpY2s6IHRoaXMuaGFuZGxlQnV0dG9uQ2xpY2sKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNsb3REdXJhdGlvbjogJzAwOjEwOjAwJywKICAgICAgICBzbG90TWF4VGltZTogJzI0OjAwOjAwJywKICAgICAgICBzbG90TWluVGltZTogJzg6MDA6MDAnLAogICAgICAgIGFsbERheVNsb3Q6IGZhbHNlLAogICAgICAgIGRhdGVDbGljazogdGhpcy5oYW5kbGVEYXRlQ2xpY2ssCiAgICAgICAgZXZlbnRDbGljazogdGhpcy5oYW5kbGVFdmVudENsaWNrLAogICAgICAgIGV2ZW50TW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLAogICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLAogICAgICAgIGV2ZW50czogW10KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLiRyb3V0ZS5wYXJhbXMubWVzc2FnZTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN0dWRlbnRTZWFyY2hQcm9mKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdHVkZW50U2VhcmNoUHJvZjogZnVuY3Rpb24gc3R1ZGVudFNlYXJjaFByb2YoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBhbGVydCgnc2VuZCcrdGhpcy5tZXNzYWdlKQogICAgICBzZWFyY2hQcm9mKHRoaXMubWVzc2FnZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coJy0tLXN0dWRlbnQgZ2V0IG9mZmljZSB0aW1lLS0tJyk7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMubWVzc2FnZSk7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIF90aGlzLmNhbGVuZGFyT3B0aW9ucy5ldmVudHMgPSBbXTsKCiAgICAgICAgaWYgKHJlcy5kYXRhWydzdWNjZXNzJ10pIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ1NlYXJjaCBTdWNjZXNzZnVsbHknLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGFbJ3Nsb3RzJ10ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgLy8gaWYgKCF0aGlzLnNvdXJjZS5vdExpc3RzW2ldLmlzQm9va2VkKSB7CiAgICAgICAgICAgIF90aGlzLmNhbGVuZGFyT3B0aW9ucy5ldmVudHMucHVzaCh7CiAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhWydzbG90cyddW2ldWydvdElEJ10sCiAgICAgICAgICAgICAgdGl0bGU6ICdPZmZpY2UgVGltZScsCiAgICAgICAgICAgICAgc3RhcnQ6IHJlcy5kYXRhWydzbG90cyddW2ldWydvdERhdGUnXSArICdUJyArIHJlcy5kYXRhWydzbG90cyddW2ldWydvdFN0YXJ0VGltZSddLAogICAgICAgICAgICAgIGVuZDogcmVzLmRhdGFbJ3Nsb3RzJ11baV1bJ290RGF0ZSddICsgJ1QnICsgcmVzLmRhdGFbJ3Nsb3RzJ11baV1bJ290RW5kVGltZSddLAogICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNiMGUwZTYnLAogICAgICAgICAgICAgIG92ZXJsYXA6IGZhbHNlLAogICAgICAgICAgICAgIGV4dGVuZGVkUHJvcHM6IHsKICAgICAgICAgICAgICAgIExvY2F0aW9uOiByZXMuZGF0YVsnc2xvdHMnXVtpXVsnb3RMb2NhdGlvbiddCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsgLy8gfSBlbHNlIHsKICAgICAgICAgICAgLy8gICB0aGlzLmNhbGVuZGFyT3B0aW9ucy5ldmVudHMucHVzaCh7CiAgICAgICAgICAgIC8vICAgICBpZDogdGhpcy5zb3VyY2Uub3RMaXN0c1tpXS5vdElELnRvU3RyaW5nKCksCiAgICAgICAgICAgIC8vICAgICB0aXRsZTogJ09mZmljZSBUaW1lJywKICAgICAgICAgICAgLy8gICAgIHN0YXJ0OiB0aGlzLnNvdXJjZS5vdExpc3RzW2ldLm90RGF0ZSArICdUJyArIHRoaXMuc291cmNlLm90TGlzdHNbaV0ub3RTdGFydFRpbWUgKyAnOjAwJywKICAgICAgICAgICAgLy8gICAgIGVuZDogdGhpcy5zb3VyY2Uub3RMaXN0c1tpXS5vdERhdGUgKyAnVCcgKyB0aGlzLnNvdXJjZS5vdExpc3RzW2ldLm90RW5kVGltZSArICc6MDAnLAogICAgICAgICAgICAvLyAgICAgb3ZlcmxhcDogdHJ1ZSwKICAgICAgICAgICAgLy8gICAgIGV4dGVuZGVkUHJvcHM6IHsKICAgICAgICAgICAgLy8gICAgICAgTG9jYXRpb246IHRoaXMuc291cmNlLm90TGlzdHNbaV0ub3RMb2NhdGlvbgogICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAvLyAgIH0pCiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRhbGVydCgnVGhlIHByb2Zlc3NvciBkb2VzIG5vdCBoYXZlIG9mZmljZSB0aW1lIHRoaXMgd2VlaycpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgLy8g6K+35rGC5aSx6LSl5aSE55CGCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVFdmVudENsaWNrOiBmdW5jdGlvbiBoYW5kbGVFdmVudENsaWNrKGluZm8pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBhbGVydChpbmZvLmV2ZW50LmV4dGVuZGVkUHJvcHMuTG9jYXRpb24pCiAgICAgIHZhciBmbGFnID0gZmFsc2U7CgogICAgICBpZiAoIWluZm8uZXZlbnQub3ZlcmxhcCkgewogICAgICAgIHZhciBob3VycyA9IGluZm8uZXZlbnQuc3RhcnQuZ2V0SG91cnMoKS50b1N0cmluZygpOwoKICAgICAgICBpZiAoaG91cnMubGVuZ3RoID09IDEpIHsKICAgICAgICAgIGhvdXJzID0gJzAnICsgaG91cnM7CiAgICAgICAgfQoKICAgICAgICB2YXIgbWludXRlcyA9IGluZm8uZXZlbnQuc3RhcnQuZ2V0TWludXRlcygpLnRvU3RyaW5nKCk7CgogICAgICAgIGlmIChtaW51dGVzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICBtaW51dGVzID0gJzAnICsgbWludXRlczsKICAgICAgICB9CgogICAgICAgIHZhciB0aW1lcyA9IGhvdXJzICsgJzonICsgbWludXRlczsKCiAgICAgICAgaWYgKGNvbmZpcm0oJ0RvIHlvdSB3YW50IHRvIGJvb2sgdGhlIE9mZmljZVRpbWUgYXQgJyArIHRpbWVzICsgJz8nKSkgewogICAgICAgICAgdmFyIHN0dWRlbnRfaWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnRva2VuOwogICAgICAgICAgYm9va09mZmljZVRpbWUoaW5mby5ldmVudC5pZCwgc3R1ZGVudF9pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YVsnc3VjY2VzcyddKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdCb29rIFN1Y2Nlc3NmdWxseScsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMyLnN0dWRlbnRTZWFyY2hQcm9mKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRhbGVydCgnQm9vayBmYWlsIScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgLy8g6K+35rGC5aSx6LSl5aSE55CGCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoaW5mbykgewogICAgICAvLyBhbGVydCgnRXZlbnQ6ICcgKyBpbmZvLmV2ZW50LnRpdGxlKQogICAgICB0aXBweShpbmZvLmVsLCB7CiAgICAgICAgY29udGVudDogJ0xvY2F0aW9uOiAnICsgaW5mby5ldmVudC5leHRlbmRlZFByb3BzLkxvY2F0aW9uCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA,sD,CAEA;;AACA,6B,CACA;AACA;AACA;AAEA;;AACAA;;AACAA;;AAEA;AACAC;AAAAC;AAAA,GADA;AAEAC,MAFA,kBAEA;AACA;AACAC,eADA;AAEAC,iBAFA;AAGAC;AACAC,4BADA;AAEAC,qBAFA;AAGAC,iBACA,CACA;AACAC,kBADA;AAEAC,8BAFA;AAGAC,8BAHA;AAIAC,4BAJA;AAKAC,8BALA;AAMAC,yBANA;AAOAC;AAPA,SADA,EAUA;AACAN,kBADA;AAEAC,8BAFA;AAGAC,8BAHA;AAIAC,4BAJA;AAKAC,8BALA;AAMAC,wBANA;AAOAC;AAPA,SAVA;AAJA,OAHA;AA4BAC;AACAC,+EADA;AAEAC,mCAFA;AAGA;AACAC;AAAA;AACAC,uBADA;AAEAC,oBAFA;AAGAC;AAHA,SAJA;AASAC,mBATA;AAUAC;AACAC,yBADA;AAEAC,2BAFA;AAGAC,yBAHA;AAIAC,uBAJA,CAIA;;AAJA,SAVA;AAgBAC;AACAC;AACAC,gCADA;AAEAC;AAFA;AADA,SAhBA;AAsBAC,gCAtBA;AAuBAC,+BAvBA;AAwBAC,8BAxBA;AAyBAC,yBAzBA;AA0BAC,uCA1BA;AA2BAC,yCA3BA;AA4BAC,8CA5BA;AA6BAC,yBA7BA;AA8BAC;AA9BA;AA5BA;AA6DA,GAhEA;AAiEAC,SAjEA,qBAiEA;AACA;AACA,GAnEA;AAoEAC,SApEA,qBAoEA;AACA;AACA,GAtEA;AAuEAC;AACAC;AAAA;;AACA;AACAC,+BACAC,IADA,CACA;AACAC;AACAA;AACAA;AACA;;AACA;AACA;AACA5C,0CADA;AAEA6C;AAFA;;AAIA;AACA;AACA;AACAC,8CADA;AAEAC,kCAFA;AAGAC,+FAHA;AAIAC,2FAJA;AAKAC,wCALA;AAMAC,4BANA;AAOAC;AACAC;AADA;AAPA,eAFA,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,SA/BA,MA+BA;AACA;AACA;AACA,OAxCA,EAyCAC,KAzCA,CAyCA;AAAA;AACAV;AACA,OA3CA;AA4CA,KA/CA;AAgDAW;AAAA;;AACA;AACA;;AACA;AACA;;AACA;AAAAC;AAAA;;AACA;;AACA;AAAAC;AAAA;;AACA;;AACA;AACA;AACAC;AACA;AACA;AACA1D,4CADA;AAEA6C;AAFA;;AAIA;AACA,aANA,MAMA;AACA;AACA;AACA,WAVA,EAUAS,KAVA,CAUA;AAAA;AACAV;AACA,WAZA;AAaA;AACA;AACA,KA1EA;AA2EAe;AACA;AACAC;AACAC;AADA;AAGA;AAhFA;AAvEA","names":["require","components","FullCalendar","data","value","message","source","Professor_Name","success","otLists","otID","otDate","otStartTime","otEndTime","otLocation","isBooked","booked_by","calendarOptions","plugins","initialView","headerToolbar","left","center","right","height","slotLabelFormat","hour","minute","meridiem","hour12","customButtons","addEventButton","text","click","slotDuration","slotMaxTime","slotMinTime","allDaySlot","dateClick","eventClick","eventMouseEnter","selectable","events","created","mounted","methods","studentSearchProf","searchProf","then","console","type","id","title","start","end","backgroundColor","overlap","extendedProps","Location","catch","handleEventClick","hours","minutes","bookOfficeTime","handleMouseEnter","tippy","content"],"sourceRoot":"src/views/ot","sources":["otStudentSearchProf.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form label=\"query\" style=\"text-align: left;margin-left:5%;margin-top:2%;\">\r\n      <el-input\r\n        v-model=\"message\"\r\n        style=\"width: 220px\"\r\n        placeholder=\"Input Faculty's name\"\r\n        prefix-icon=\"el-icon-search\"\r\n        clearable\n      />\r\n      <el-button @click.native=\"studentSearchProf()\">Search</el-button>\r\n      <el-button style=\"margin-left: 63%\">\r\n        <router-link to=\"/officetime/student/my\">My Reservations</router-link>\r\n      </el-button>\r\n    </el-form>\r\n    <div>    <p style=\"margin-left:35%; font-size:2rem;\">{{ message }} Office Time</p>\r\n      <div style=\"margin-left:5%; width:90%;\">\r\n\r\n        <FullCalendar\r\n          :options=\"calendarOptions\"\r\n        />\r\n      </div></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@fullcalendar/core/vdom'\r\nimport FullCalendar from '@fullcalendar/vue'\r\nimport DayGridPlugin from '@fullcalendar/daygrid'\r\nimport TimeGridPlugin from '@fullcalendar/timegrid'\r\nimport InteractionPlugin from '@fullcalendar/interaction'\r\nimport ListPlugin from '@fullcalendar/list'\r\nimport { bookOfficeTime, searchProf } from '@/api/ot'\r\n\r\n// import axios from 'axios'\r\nimport tippy from 'tippy.js'\r\n// import 'tippy.js/dist/tippy.css'\r\n// import 'tippy.js/themes/light.css';\r\n// import 'tippy.js/animations/scale.css';\r\n\r\n// require('@fullcalendar/core/main.min.css')\r\nrequire('@fullcalendar/daygrid/main.min.css')\r\nrequire('@fullcalendar/timegrid/main.min.css')\r\n\r\nexport default {\r\n  components: { FullCalendar },\r\n  data() {\r\n    return {\r\n      value: '',\r\n      message: '',\r\n      source: {\r\n        Professor_Name: 'p1',\r\n        success: true,\r\n        otLists:\r\n        [\r\n          {\r\n            otID: 11,\r\n            otDate: '2022-04-10',\r\n            otStartTime: '09:00',\r\n            otEndTime: '10:00',\r\n            otLocation: 'place1',\r\n            isBooked: false,\r\n            booked_by: 'student'\r\n          },\r\n          {\r\n            otID: 12,\r\n            otDate: '2022-04-11',\r\n            otStartTime: '09:00',\r\n            otEndTime: '10:00',\r\n            otLocation: 'place1',\r\n            isBooked: true,\r\n            booked_by: 'student'\r\n          }\r\n        ]\r\n      },\r\n      calendarOptions: {\r\n        plugins: [DayGridPlugin, InteractionPlugin, TimeGridPlugin, ListPlugin],\r\n        initialView: 'timeGridWeek',\r\n        // backgroundColor: '#D3D3D3',\r\n        headerToolbar: { // 日历头部按钮位置\r\n          left: 'title',\r\n          center: '',\r\n          right: 'prev today next'\r\n        },\r\n        height: 660,\r\n        slotLabelFormat: {\r\n          hour: '2-digit',\r\n          minute: '2-digit',\r\n          meridiem: false,\r\n          hour12: false // 设置时间为24小时\r\n        },\r\n        customButtons: {\r\n          addEventButton: {\r\n            text: 'add event...',\r\n            click: this.handleButtonClick\r\n          }\r\n        },\r\n        slotDuration: '00:10:00',\r\n        slotMaxTime: '24:00:00',\r\n        slotMinTime: '8:00:00',\r\n        allDaySlot: false,\r\n        dateClick: this.handleDateClick,\r\n        eventClick: this.handleEventClick,\r\n        eventMouseEnter: this.handleMouseEnter,\r\n        selectable: false,\r\n        events: []\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.message = this.$route.params.message\r\n  },\r\n  mounted() {\r\n    this.studentSearchProf()\r\n  },\r\n  methods: {\r\n    studentSearchProf: function() {\r\n      // alert('send'+this.message)\r\n      searchProf(this.message)\r\n        .then(res => {\r\n          console.log('---student get office time---')\r\n          console.log(this.message)\r\n          console.log(res.data)\r\n          this.calendarOptions.events = []\r\n          if (res.data['success']) {\r\n            this.$message({\r\n              message: 'Search Successfully',\r\n              type: 'success'\r\n            })\r\n            for (var i = 0; i < res.data['slots'].length; i++) {\r\n              // if (!this.source.otLists[i].isBooked) {\r\n              this.calendarOptions.events.push({\r\n                id: res.data['slots'][i]['otID'],\r\n                title: 'Office Time',\r\n                start: res.data['slots'][i]['otDate'] + 'T' + res.data['slots'][i]['otStartTime'],\r\n                end: res.data['slots'][i]['otDate'] + 'T' + res.data['slots'][i]['otEndTime'],\r\n                backgroundColor: '#b0e0e6',\r\n                overlap: false,\r\n                extendedProps: {\r\n                  Location: res.data['slots'][i]['otLocation']\r\n                }\r\n              })\r\n              // } else {\r\n              //   this.calendarOptions.events.push({\r\n              //     id: this.source.otLists[i].otID.toString(),\r\n              //     title: 'Office Time',\r\n              //     start: this.source.otLists[i].otDate + 'T' + this.source.otLists[i].otStartTime + ':00',\r\n              //     end: this.source.otLists[i].otDate + 'T' + this.source.otLists[i].otEndTime + ':00',\r\n              //     overlap: true,\r\n              //     extendedProps: {\r\n              //       Location: this.source.otLists[i].otLocation\r\n              //     }\r\n              //   })\r\n              // }\r\n            }\n          } else {\r\n            this.$alert('The professor does not have office time this week')\r\n          }\r\n        })\r\n        .catch(function(error) { // 请求失败处理\r\n          console.log(error)\r\n        })\n    },\r\n    handleEventClick: function(info) {\r\n      // alert(info.event.extendedProps.Location)\r\n      var flag = false\r\n      if (!info.event.overlap) {\r\n        var hours = info.event.start.getHours().toString()\r\n        if (hours.length == 1) { hours = '0' + hours }\r\n        var minutes = info.event.start.getMinutes().toString()\r\n        if (minutes.length == 1) { minutes = '0' + minutes }\r\n        var times = hours + ':' + minutes\r\n        if (confirm('Do you want to book the OfficeTime at ' + times + '?')) {\r\n          var student_id = this.$store.state.user.token\r\n          bookOfficeTime(info.event.id, student_id).then(res => {\r\n            if (res.data['success']) {\r\n              this.$message({\r\n                message: 'Book Successfully',\r\n                type: 'success'\r\n              })\r\n              this.studentSearchProf()\r\n            } else {\r\n              this.$alert('Book fail!')\r\n            }\r\n          }).catch(error => { // 请求失败处理\r\n            console.log(error)\r\n          })\r\n        }\r\n      }\r\n    },\r\n    handleMouseEnter: function(info) {\r\n      // alert('Event: ' + info.event.title)\r\n      tippy(info.el, {\r\n        content: 'Location: ' + info.event.extendedProps.Location\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}